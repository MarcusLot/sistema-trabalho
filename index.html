<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Tarefas Pro</title>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Login Screen -->
    <div class="login-screen" id="loginScreen">
        <div class="login-card">
            <div class="login-header">
                <h1>Sistema Pro</h1>
                <p>Fa√ßa login para continuar</p>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" placeholder="seu@email.com" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Senha</label>
                    <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="rememberMe">
                    <label for="rememberMe">Lembre-me</label>
                </div>
                <button type="submit" class="btn btn-primary">
                    Entrar
                </button>
            </form>
        </div>
    </div>

    <!-- Main App -->
    <div class="app-screen" id="appScreen">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">üìã Sistema Pro</div>
                    <div class="user-info">
                        <div class="user-avatar" id="userAvatar">A</div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav">
            <div class="container">
                <ul class="nav-list" id="navList">
                    <li class="nav-item"><a href="#" class="nav-link active" data-page="dashboard">Dashboard</a></li>
                    <li class="nav-item"><a href="#" class="nav-link" data-page="tasks">Tarefas</a></li>
                    <li class="nav-item nav-admin-only hidden"><a href="#" class="nav-link" data-page="people">Pessoas</a></li>
                    <li class="nav-item nav-admin-only hidden"><a href="#" class="nav-link" data-page="stores">Lojas</a></li>
                    <li class="nav-item nav-admin-only hidden"><a href="#" class="nav-link" data-page="permissions">Permiss√µes</a></li>
                    <li class="nav-item"><a href="#" class="nav-link" id="logoutBtn">Sair</a></li>
                </ul>
            </div>
        </nav>

        <!-- Content -->
        <main class="content">
            <div class="container">
                <!-- Dashboard Page -->
                <div class="page active" id="dashboardPage">
                    <div class="page-header">
                        <h1 class="page-title">Dashboard</h1>
                        <p class="page-subtitle">Vis√£o geral do sistema</p>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="totalTasks">0</div>
                            <div class="stat-label">Total de Tarefas</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="pendingTasks">0</div>
                            <div class="stat-label">Tarefas Pendentes</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="completedTasks">0</div>
                            <div class="stat-label">Tarefas Conclu√≠das</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="totalEmployees">0</div>
                            <div class="stat-label">Funcion√°rios Ativos</div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Tarefas Recentes</h3>
                            <p class="card-description">√öltimas tarefas criadas no sistema</p>
                        </div>
                        <ul class="task-list" id="recentTasks">
                            <div class="empty-state">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M9 2C7.89 2 7 2.89 7 4V20C7 21.11 7.89 22 9 22H15C16.11 22 17 21.11 17 20V4C17 2.89 16.11 2 15 2H9M9 4H15V20H9V4M10 6V8H14V6H10M10 10V12H14V10H10Z"/>
                                </svg>
                                <h3>Nenhuma tarefa ainda</h3>
                                <p>Crie sua primeira tarefa para come√ßar</p>
                            </div>
                        </ul>
                    </div>
                </div>

                <!-- Tasks Page -->
                <div class="page" id="tasksPage">
                    <div class="page-header">
                        <h1 class="page-title">Tarefas</h1>
                        <p class="page-subtitle">Gerencie todas as tarefas do sistema</p>
                    </div>

                    <div class="card admin-only hidden" id="createTaskCard">
                        <div class="card-header">
                            <h3 class="card-title">Criar Nova Tarefa</h3>
                            <p class="card-description">Atribua uma nova tarefa para um funcion√°rio</p>
                        </div>
                        <form id="createTaskForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="taskEmployee">Destinat√°rio</label>
                                    <select id="taskEmployee" required>
                                        <option value="">Selecione um destinat√°rio</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="taskPriority">Prioridade</label>
                                    <select id="taskPriority" required>
                                        <option value="normal">Normal</option>
                                        <option value="urgent">Urgente</option>
                                        <option value="low">Baixa</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="taskDescription">Descri√ß√£o da Tarefa</label>
                                <input type="text" id="taskDescription" placeholder="Descreva a tarefa..." required>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                ‚ûï Criar Tarefa
                            </button>
                        </form>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Minhas Tarefas</h3>
                            <p class="card-description">Tarefas atribu√≠das a voc√™</p>
                        </div>
                        <ul class="task-list" id="myTasks">
                            <div class="empty-state">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M9 2C7.89 2 7 2.89 7 4V20C7 21.11 7.89 22 9 22H15C16.11 22 17 21.11 17 20V4C17 2.89 16.11 2 15 2H9M9 4H15V20H9V4M10 6V8H14V6H10M10 10V12H14V10H10Z"/>
                                </svg>
                                <h3>Nenhuma tarefa encontrada</h3>
                                <p>Voc√™ n√£o tem tarefas no momento</p>
                            </div>
                        </ul>
                    </div>
                </div>

                <!-- People Page -->
                <div class="page" id="peoplePage">
                    <div class="page-header">
                        <h1 class="page-title">Pessoas</h1>
                        <p class="page-subtitle">Gerencie funcion√°rios e usu√°rios do sistema</p>
                    </div>

                    <div class="card">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Tipo</th>
                                    <th>Status</th>
                                    <th>Loja</th>
                                    <th>Telefone</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="peopleTable">
                                <tr>
                                    <td colspan="7" class="text-center">
                                        <div class="empty-state">
                                            <p>Nenhuma pessoa cadastrada</p>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Stores Page -->
                <div class="page" id="storesPage">
                    <div class="page-header">
                        <h1 class="page-title">Lojas</h1>
                        <p class="page-subtitle">Gerencie as lojas do sistema</p>
                    </div>

                    <div class="card">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>C√≥digo</th>
                                    <th>Endere√ßo</th>
                                    <th>Status</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="storesTable">
                                <tr>
                                    <td colspan="5" class="text-center">
                                        <div class="empty-state">
                                            <p>Nenhuma loja cadastrada</p>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Permissions Page -->
                <div class="page" id="permissionsPage">
                    <div class="page-header">
                        <h1 class="page-title">Permiss√µes de Funcion√°rios</h1>
                        <p class="page-subtitle">Gerencie o acesso dos funcion√°rios √†s funcionalidades</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Configurar Permiss√µes</h3>
                            <p class="card-description">Selecione quais abas cada funcion√°rio pode acessar</p>
                        </div>
                        <form id="permissionsForm">
                            <div class="form-group">
                                <label for="permissionEmployee">Funcion√°rio</label>
                                <select id="permissionEmployee" required>
                                    <option value="">Selecione um funcion√°rio</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Abas Permitidas</label>
                                <div class="permissions-grid">
                                    <div class="permission-item">
                                        <label class="permission-checkbox">
                                            <input type="checkbox" name="permissions" value="tasks" checked disabled>
                                            <span class="permission-icon">üìã</span>
                                            <span class="permission-text">Minhas Tarefas</span>
                                            <span class="permission-badge">sempre ativo</span>
                                        </label>
                                    </div>
                                    <div class="permission-item">
                                        <label class="permission-checkbox">
                                            <input type="checkbox" name="permissions" value="dashboard">
                                            <span class="permission-icon">üìä</span>
                                            <span class="permission-text">Dashboard</span>
                                        </label>
                                    </div>
                                    <div class="permission-item">
                                        <label class="permission-checkbox">
                                            <input type="checkbox" name="permissions" value="employees">
                                            <span class="permission-icon">üë•</span>
                                            <span class="permission-text">Funcion√°rios</span>
                                        </label>
                                    </div>
                                    <div class="permission-item">
                                        <label class="permission-checkbox">
                                            <input type="checkbox" name="permissions" value="stores">
                                            <span class="permission-icon">üè™</span>
                                            <span class="permission-text">Lojas</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                üíæ Salvar Permiss√µes
                            </button>
                        </form>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Permiss√µes Atuais</h3>
                            <p class="card-description">Lista de permiss√µes configuradas</p>
                        </div>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Funcion√°rio</th>
                                    <th>Email</th>
                                    <th>Abas Permitidas</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="permissionsTable">
                                <tr>
                                    <td colspan="4" class="text-center">
                                        <div class="empty-state">
                                            <p>Nenhuma permiss√£o configurada</p>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="addEmployeeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚ûï Adicionar Funcion√°rio</h2>
                <button class="modal-close" onclick="closeModal('addEmployeeModal')">&times;</button>
            </div>
            <form id="modalEmployeeForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="modalEmployeeName">Nome Completo</label>
                        <input type="text" id="modalEmployeeName" placeholder="Nome do funcion√°rio" required>
                    </div>
                    <div class="form-group">
                        <label for="modalEmployeeStore">Loja</label>
                        <select id="modalEmployeeStore" required>
                            <option value="">Selecione uma loja</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="modalEmployeeEmail">Email</label>
                        <input type="email" id="modalEmployeeEmail" placeholder="email@exemplo.com" required>
                    </div>
                    <div class="form-group">
                        <label for="modalEmployeePhone">Telefone</label>
                        <input type="tel" id="modalEmployeePhone" placeholder="(00) 00000-0000">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="modalEmployeePassword">Senha</label>
                        <input type="password" id="modalEmployeePassword" placeholder="M√≠nimo 6 caracteres" required>
                    </div>
                    <div class="form-group">
                        <label for="modalEmployeeRole">Tipo de Usu√°rio</label>
                        <select id="modalEmployeeRole" required>
                            <option value="employee">Funcion√°rio</option>
                            <option value="admin">Administrador</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('addEmployeeModal')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Adicionar Funcion√°rio</button>
                </div>
            </form>
        </div>
    </div>

    <div id="permissionsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Gerenciar Permiss√µes</h2>
                <button class="modal-close" onclick="closeModal('permissionsModal')">&times;</button>
            </div>
            <form id="modalPermissionsForm">
                <div class="form-group">
                    <label for="modalPermissionEmployee">Funcion√°rio</label>
                    <select id="modalPermissionEmployee" required>
                        <option value="">Selecione um funcion√°rio</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Abas Permitidas</label>
                    <div class="permissions-grid">
                        <div class="permission-item">
                            <label class="permission-checkbox">
                                <input type="checkbox" name="modalPermissions" value="tasks" checked disabled>
                                <span class="permission-icon">üìã</span>
                                <span class="permission-text">Minhas Tarefas</span>
                                <span class="permission-badge">sempre ativo</span>
                            </label>
                        </div>
                        <div class="permission-item">
                            <label class="permission-checkbox">
                                <input type="checkbox" name="modalPermissions" value="dashboard">
                                <span class="permission-icon">üìä</span>
                                <span class="permission-text">Dashboard</span>
                            </label>
                        </div>
                        <div class="permission-item">
                            <label class="permission-checkbox">
                                <input type="checkbox" name="modalPermissions" value="employees">
                                <span class="permission-icon">üë•</span>
                                <span class="permission-text">Funcion√°rios</span>
                            </label>
                        </div>
                        <div class="permission-item">
                            <label class="permission-checkbox">
                                <input type="checkbox" name="modalPermissions" value="stores">
                                <span class="permission-icon">üè™</span>
                                <span class="permission-text">Lojas</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('permissionsModal')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Permiss√µes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Store Modal -->
    <div id="addStoreModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Adicionar Loja</h2>
                <button class="modal-close" onclick="closeModal('addStoreModal')">&times;</button>
            </div>
            <form id="addStoreForm">
                <div class="form-group">
                    <label for="storeName">Nome da Loja</label>
                    <input type="text" id="storeName" placeholder="Nome da loja" required>
                </div>
                <div class="form-group">
                    <label for="storeCode">C√≥digo</label>
                    <input type="text" id="storeCode" placeholder="C√≥digo da loja" required>
                </div>
                <div class="form-group">
                    <label for="storeAddress">Endere√ßo</label>
                    <input type="text" id="storeAddress" placeholder="Endere√ßo completo" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('addStoreModal')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Adicionar Loja</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Employee Modal -->
    <div id="editEmployeeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Editar Funcion√°rio</h2>
                <button class="modal-close" onclick="closeModal('editEmployeeModal')">&times;</button>
            </div>
            <form id="editEmployeeForm">
                <input type="hidden" id="editEmployeeId">
                <div class="form-row">
                    <div class="form-group">
                        <label for="editEmployeeName">Nome Completo</label>
                        <input type="text" id="editEmployeeName" placeholder="Nome do funcion√°rio" required>
                    </div>
                    <div class="form-group">
                        <label for="editEmployeeStore">Loja</label>
                        <select id="editEmployeeStore" required>
                            <option value="">Selecione uma loja</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="editEmployeeEmail">Email</label>
                        <input type="email" id="editEmployeeEmail" placeholder="email@exemplo.com" required>
                    </div>
                    <div class="form-group">
                        <label for="editEmployeePhone">Telefone</label>
                        <input type="tel" id="editEmployeePhone" placeholder="(00) 00000-0000">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="editEmployeePassword">Nova Senha (deixe em branco para manter atual)</label>
                        <input type="password" id="editEmployeePassword" placeholder="M√≠nimo 6 caracteres">
                    </div>
                    <div class="form-group">
                        <label for="editEmployeeRole">Tipo de Usu√°rio</label>
                        <select id="editEmployeeRole" required>
                            <option value="employee">Funcion√°rio</option>
                            <option value="admin">Administrador</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('editEmployeeModal')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Store Modal -->
    <div id="editStoreModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Editar Loja</h2>
                <button class="modal-close" onclick="closeModal('editStoreModal')">&times;</button>
            </div>
            <form id="editStoreForm">
                <input type="hidden" id="editStoreId">
                <div class="form-group">
                    <label for="editStoreName">Nome da Loja</label>
                    <input type="text" id="editStoreName" placeholder="Nome da loja" required>
                </div>
                <div class="form-group">
                    <label for="editStoreCode">C√≥digo</label>
                    <input type="text" id="editStoreCode" placeholder="C√≥digo da loja" required>
                </div>
                <div class="form-group">
                    <label for="editStoreAddress">Endere√ßo</label>
                    <input type="text" id="editStoreAddress" placeholder="Endere√ßo completo" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('editStoreModal')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit User Modal -->
    <div id="editUserModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Editar Usu√°rio</h2>
                <button class="modal-close" onclick="closeModal('editUserModal')">&times;</button>
            </div>
            <form id="editUserForm">
                <input type="hidden" id="editUserId">
                <div class="form-group">
                    <label for="editUserName">Nome Completo</label>
                    <input type="text" id="editUserName" placeholder="Nome do usu√°rio" required>
                </div>
                <div class="form-group">
                    <label for="editUserEmail">Email</label>
                    <input type="email" id="editUserEmail" placeholder="email@exemplo.com" required>
                </div>
                <div class="form-group">
                    <label for="editUserPassword">Nova Senha (deixe em branco para manter atual)</label>
                    <input type="password" id="editUserPassword" placeholder="M√≠nimo 6 caracteres">
                </div>
                <div class="form-group">
                    <label for="editUserRole">Tipo de Usu√°rio</label>
                    <select id="editUserRole" required>
                        <option value="employee">Funcion√°rio</option>
                        <option value="admin">Administrador</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('editUserModal')">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Floating Action Buttons -->
    <div class="fab-container">
        <!-- Bot√µes ser√£o adicionados dinamicamente via JavaScript -->
    </div>

    <script src="script.js"></script>
</body>
</html>
